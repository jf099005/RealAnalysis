# Egorov's theorem
Let $\{f_k\}$ be a sequence of measurable functions defined on a set $E$ with $|E|<\infty$
Assume $f_k\to f$ (pointwisely) a.e. and $|f|<\infty$ a.e.
then $\forall \epsilon>0\exists F\subseteq E$ closed with $|E-F|<\epsilon$ s.t. $f_k\to f$ uniformly on $F$

#### Lemma
Under the assumptoins of Egorov's theorem, $\forall \epsilon>0,\eta>0$, $\exists$ a closed set $F\subseteq E$ and a constant $K>0$ s.t. $|E-F|<\eta$ and $|f(x)-f_k(x)|<\epsilon\forall x\in F,k > K$

##### proof of lemma
Given $\epsilon>0, m\in \mathbb N$, define $E_m=\{x\in E:|f(x)-f_k(x)|<\epsilon\forall k>m\}$
then $E_m\subseteq E_{m+1}$
also, $E_m\to E-Z$ where $|Z|=0$ since $f_k\to f\forall x\in E-Z$

hence, $|E_m|\to |E-Z|=|E|$

Thus, $|E-E_m|=|E|-|E_m|\to 0$ as $m\to\infty$
we can find an $\tilde m \in \mathbb N$ s.t. $|E-E_m|<\eta/2$

Then we find a closed set $F\subseteq E_{\tilde m}$ s.t. $|E_{\tilde m} - F| < \eta/2$

$\implies F\subseteq E$ and $|E-F|\le \eta$
Also, $|f_k(x)-f(x)|<\epsilon\forall x\in F$ and $k > \tilde m = K$

##### proof of Egorov's theorem
By the last lemma, $\forall \epsilon>0$ we can select a closed set $F_m\subseteq E$ with $|E-F_m|<\epsilon\times 2^{-m-1}$ and $K_{m,\epsilon}>0$ s.t. $|f_k(x)-f(x)|<\frac 1m\forall k > K_{m,\epsilon}$
define $F=\cap F_m$, which is a closed set
$F\subseteq F_m\implies |f(x)-f_k(x)|<\frac 1m \forall x\in F,k>K_{m,n}$ (uniformly converge)
Also, $|E-F|=|E-\cap_m F_m|\le \sum_m |E-F_m|\le \epsilon$

# Lusin's theroem
## Def.
a function $f$ defined on a measurable set $E$ is said to have property $\mathcal P$, if given $\epsilon>0$, $\exists$ a closed set $F\subset E$ s.t.
- $|E-F|<\epsilon$
- $f$ is continuous on $F$, i.e. if $x_0\in F,x\to x_0$ then $f(x)\to f(x_0)$

## Theorem(Lustin's theorem)
Let $f$ be finite a.e. on a measurable set $E$, then $f$ is mesurable iff $f$ has property $\mathcal P$ on $E$

#### Lemma
a simple measurable function has property $\mathcal P$

proof.
Let $f=\sum_{k=1}^N \alpha_k \chi_{E_k}, E_1,...,E_N$ measurable and disjoint, $\alpha_1,...,\alpha_n\in\mathbb N$
Eoreach $E_k$, we can find a closed set $F_k$ with $F_k\subseteq E_k$ and $|E_k-F_k|<\epsilon/N$
for any given $\epsilon>0$, then $F=\cup_{k=1}^N F_k$ (closed)
$\implies |E-F|<\epsilon$

It remain to verify $f$ is continuous on $F$.
It is obvious if $d(F_k, F_j)>0$, so if $E_k$ is bounded $\forall k$ then the solution is trivial from the compactness of disjoint sets $F_k,F_j$

In the general case, we can cover $\{E_k\}$ by a sequence of balls increasing to $\mathbb R^n$

