# Fubini theorem
$I_1:\{x=(x_1,x_2,\ldots,x_n), a_i\le x_i\le b_i,i=1,2,\ldots,n\}$
$I_2=\{y=(y_1,\ldots,y_n),c_i\le y_i\le d_i,i=1,2,\ldots,m\}$

Define $I=I_1\times I_2\subset \mathbb R^{n+m}$, $f:I\to\mathbb R$ satisfy $f\in L(I)$ i.e. $\int_E |f|dxdy<\infty$

($\implies \int_I f^+,\int_I f^-<\infty$)

then
1. $\forall x\in I_1$ a.e. ,  $y\to f(x,y)$ is measurable and $\int_{I_2} |f(x,y)|dy < \infty$
Also, $h(x):=\int_{I_2} f(x,y)dy$ is measurable and integrable on $I_1$
i.e. $h\in L(I_1)$

2. $\iint_I f(x,y)dxdy = \int_{I_1}\left[\int_{I_2} f(x,y)dy\right] dx = \int_{I_2}\left[\int_{I_1} f(x,y)dx\right] dy$

##### remark.
setting $f\equiv 0$ outside of $I$, it sufficient to prove the theorem for $I_1=\mathbb R^n$ and $I_2=\mathbb R^m$

### proof.
Before the proof, since $\iint_I f(x,y)dxdy < \infty$, $\iint_I f^+dxdy<\infty$ and $\iint_I f^- dxdy<\infty$

It sufficient to consider $f\ge 0$

#### Def.
A function $f\in L(dxdy)$ is said to have property $\mathcal F$ if Fubini's theorem is satisfied.

#### Lemma 1.
if $f,g$ have property $\mathcal F$, then $\alpha f+ \beta g$ has property $\mathcal F \forall \alpha,\beta\in\mathbb R$


proof: trivial from the linearity of the condition of $\mathcal F$

#### Lemma 2.
Let $f_1,f_2,\ldots$ have property $\mathcal F$ and $f_k\to f\in L(dxdy)$ increasingly (or decreasingly to $f\in L(dxdy)$)
Then $f$ has property $\mathcal F$

proof.
it suffices to prove for $f_k\to f$ increasing

From (i), $\exists Z_k,|Z_k|=0$ s.t. $x\notin Z_k\implies f(x,y)\in L(dy)$ and $h_k(x):=\int_{I_2} f_k(x,y)dy\in L(dx)$ and (ii) is satisfied.

DEfine $Z=\cup_k Z_k$, so $|Z|=0$, also $x\notin Z\implies f_k(x,y)\in L(dy)\forall k$
by the monotone property, i.e. $f_k\to f$ increasingly,
$f(x,y)$ is measurable for $x\notin Z$

$g_k(x)=\int f_k dy\to h(x)=\int f(x,y)dy\forall x\notin Z$ by monotone convergence property.

Also, $h_k \in L(dx)$, by the monotone convergence $\int h_k(x)\to \int h(x)dx$

$\underbrace{\iint f_k(d,y)dxdy}_{(1)}=\underbrace{\int\left[\int f_k(x,y)dy\right]dx}_{(2)}=\int \left[\int f_k(x,y)dx\right]dy$

by monotone convergence theorem, we have
- $(1)\to \iint f(x,y)dxdy$
- $(2)=\int h_k(x)dx\to \int h(x)dx=\int\left[\int fdy\right]dx$

Interchange the role of $x$ and $y$, we obtain $\iint f(x,y)dxdy=\int\left[\int f(x,y)dx\right]dy$


